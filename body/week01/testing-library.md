# 4. Testing Library

## í•™ìŠµ í‚¤ì›Œë“œ

- Jest
- Describe-Context-It íŒ¨í„´
- React Testing Library

## Jest

ğŸš€ [**Jest ê³µì‹ë¬¸ì„œ**](https://jestjs.io/)

ê±°ì˜ ëª¨ë“  ê²ƒì„ ê°–ì¶˜ í…ŒìŠ¤íŒ… ë„êµ¬ì…ë‹ˆë‹¤.

Mochaì™€ Chaiì²˜ëŸ¼ RSpecì˜ describe-itì„ ì§€ì›í•˜ê³ , expectë¡œ ë‹¨ì–¸(assertion)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
Mockingë„ ë‹¤ì–‘í•œ ë ˆë²¨ì—ì„œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- [BETTER SPECS](https://www.betterspecs.org/) â†’ RSpec ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ëª¨ìŒ. ê·¸ëŒ€ë¡œ ì“¸ ìˆ˜ëŠ” ì—†ì§€ë§Œ, ì°¸ê³ í•˜ì.
- [Ginkgo - Go ì–¸ì–´ ê°œë°œìë¥¼ ìœ„í•œ BDD í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬](https://youtu.be/gfTsSBRvdqI) (Go ì–¸ì–´ ì‚¬ë¡€)
- [JUnit5ë¡œ ê³„ì¸µ êµ¬ì¡°ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•˜ê¸°](https://johngrib.github.io/wiki/junit5-nested/) \*\*\*\*(Java ì–¸ì–´ ì‚¬ë¡€)
- [Letâ€™s RSpec](https://github.com/ahastudio/til/blob/main/ruby/20161206-rspec-let.md) â†’ JestëŠ” RSpecì˜ let ê°™ì€ ê±¸ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, í•µì‹¬ ì•„ì´ë””ì–´ë¥¼ ê°€ì ¸ì™€ì„œ ì ë‹¹í•œ ìˆ˜ì¤€ì—ì„œ ì˜ ì¨ì•¼ í•œë‹¤.

[Given-When-Then](https://www.notion.so/Given-When-Then-deee38000805476fa2ab10adc20424ed?pvs=21)

### ê¸°ë³¸ì ì¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ

```jsx
test('add', () => {
  expect(add(1, 2)).toBe(3);
});
```

### BDD ìŠ¤íƒ€ì¼ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ

ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì‚¬ì–‘(specification)ì— ì˜ ë§ëŠ”ì§€ ë§ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\
êµ¬í˜„ì„ í•˜ê¸° ìœ„í•´ ê¸°ëŠ¥(ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€) ëª©ë¡ì„ ë§Œë“­ë‹ˆë‹¤.\
ì£¼ë¡œ "Given-When-Then"ì˜ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

#### Given-When-Then

ê°„ë‹¨í•œ ì˜ˆë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

ì „ìë Œì§€ì— 3ë¶„ë§Œ ëŒë¦¬ë©´ ì™„ì„±ë˜ëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.\
ì—¬ê¸°ì„œ ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ í•´ì•¼ í•˜ëŠ” ê±´ 'ì „ìë Œì§€ì— 3ë¶„ë§Œ ëŒë¦¬ëŠ” ê²ƒ'ì…ë‹ˆë‹¤.\
ê·¸ëŸ¼ ì™„ì„±ì´ ë˜ëŠ” ì¼ì´ ë²Œì–´ì§‘ë‹ˆë‹¤.\
Given-When-Then í…œí”Œë¦¿ìœ¼ë¡œ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

```json
// when
ì „ìë Œì§€ì— 3ë¶„ë§Œ ëŒë¦¬ë©´

// then
ì™„ì„±
```

ë” ì •í™•í•˜ê²ŒëŠ” 700ì™€íŠ¸ ì „ìë Œì§€ë¥¼ ì¤€ë¹„í•˜ê³ , 3ë¶„ì´ë€ ì‹œê°„ì´ ì£¼ì–´ì¡Œì„ ë•Œ ì£¼ì–´ì§„ ì‹œê°„ë™ì•ˆ ì „ìë Œì§€ë¥¼ ëŒë¦¬ë©´ ìš”ë¦¬ê°€ ì™„ì„± ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.\
Given-When-Then í…œí”Œë¦¿ìœ¼ë¡œ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

```json
// Given
íŒŒì›ŒëŠ” 700ì™€íŠ¸, ê¸°ê³„ëŠ” ì „ìë Œì§€, ì‹œê°„ì€ 3ë¶„ì´ ì£¼ì–´ì§

// when
ì£¼ì–´ì§„ ì‹œê°„ë™ì•ˆ ì „ìë Œì§€ë¥¼ ëŒë¦¬ë©´

// then
ìš”ë¦¬ê°€ ì™„ì„±
```

#### Describe, It

ê²Œì„ì—ì„œ JUMP ê¸°ëŠ¥ì„ ë§Œë“œë ¤ê³  í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\
JUMPë¼ëŠ” ëŒ€ìƒì˜ í–‰ë™ì— ëŒ€í•´ ì„¤ëª…í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\
ì´ ë•Œ `Describe`ë¡œ ëŒ€ìƒì„, `It`ìœ¼ë¡œ ëŒ€ìƒì˜ í–‰ë™ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

Describe "JUMP"\
It should push the hero off the floor\
It should put the hero in teh air for 10 seconds

#### ì½”ë“œ ì˜ˆì‹œ

`describe`ì— ì£¼ì–´ë¥¼, `it`ì— ê¸°ëŠ¥ì„ ë¬˜ì‚¬í•©ë‹ˆë‹¤.

```jsx
// ì£¼ì–´: given (addëŠ”)
describe('add', () => {
  // í–‰ë™ (ë‘ ìˆ«ìê°€ ì£¼ì–´ì§€ë©´, ë‘ ìˆ«ìì˜ í•©ì„ ë°˜í™˜)
  it('returns sum of two numbers', () => {
    // when
    const result = add(1, 2);

    // then ()
    expect(result).toBe(3);
  });
});
```

## React Testing Library

[React Testing Library ê³µì‹ë¬¸ì„œ](https://testing-library.com/docs/react-testing-library/intro/)\
[jest-dom](https://testing-library.com/docs/ecosystem-jest-dom/)

UI í…ŒìŠ¤íŠ¸ì— íŠ¹í™”ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.\
ê±°ì˜ E2E Testì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¨, â€œF/E í…ŒìŠ¤íŠ¸ = only React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸â€ê°€ ë˜ëŠ” ìƒí™©ì€ ìµœëŒ€í•œ í”¼í•˜ëŠ” ê²Œ ì¢‹ë‹¤.\
ë³¸ì§ˆì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  ë„ˆë¬´ ë§ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìœ„í—˜ì´ ìˆë‹¤.\
ìœ ì§€ë³´ìˆ˜ë¥¼ ë•ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì˜ëª» ì‘ì„±í•˜ë©´ ì˜¤íˆë ¤ ìœ ì§€ë³´ìˆ˜ë¥¼ ì €í•´í•  ìˆ˜ ìˆë‹¤.

### ì°¸ê³  ì˜ìƒ

[í”„ë¡ íŠ¸ì—”ë“œ(Front-end)ë„ í…ŒìŠ¤íŠ¸í•´ì•¼ í•˜ë‚˜ìš”?](https://www.youtube.com/watch?v=-kUmsKRmOnA)\
[Mocking ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì–´ë µë‚˜ìš”](https://www.youtube.com/watch?v=RoQtNLl-Wko)

### ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ

```typescript
test('Greeting', () => {
  render(<Greeting name='world' />);

  screen.getByText('Hello, world!');

  screen.getByText(/Hello/);

  expect(screen.queryByText(/Hi/)).not.toBeInTheDocument();
});
```

í‘œí˜„ë ¥ì´ ì¢‹ì•„ì§€ê³ , ì¢€ ë” ê³ ë¯¼í•  ê¸°íšŒë¥¼ ì œê³µ.
