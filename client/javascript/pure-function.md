# 순수 함수란

순수 함수(Pure Function)는 동일한 입력에 대해 항상 동일한 출력을 반환하고, 함수 외부 상태에 의존하거나 영향을 주지 않는 함수입니다.\
단순히 “외부 값을 수정하지 않는다”는 것만이 아니라, “외부에 의존하지 않고 외부를 변경하지 않으며, 항상 예측 가능한 결과를 내야 한다”는 조건을 만족해야 합니다.

## 순수 함수의 2가지 조건

1. 같은 입력 → 항상 같은 출력
2. 부작용 없음 (외부 읽기/쓰기 없음)

## 순수 함수 예시 (OK)

- 외부 값을 읽지 않음

- 외부 값을 수정하지 않음

- 원본 배열을 변경하지 않음

- 항상 새로운 배열 반환

```js
function sum(a, b) {
  return a + b;
}

function addItem(arr, item) {
  return [...arr, item];
}
```

## 순수하지 않은 함수 예시

순수 함수의 조건을 위반하는 전형적인 사례들입니다.

### 1. 외부 상태를 읽음

같은 `price`를 넣어도 `rate` 상태에 따라 결과가 달라짐

```js
let rate = 0.1;

function calc(price) {
  return price * (1 + rate); // 외부 변수에 의존
}
```

### 2. 외부 상태를 바꿈

전역 변수, 외부 변수 직접 수정하여 외부에 영향을 줌

```js
let count = 0;

function increment() {
  count++; // 외부 변수 변경
}
```

### 3. 입력값을 직접 수정

입력값을 변형하는 것도 순수하지 않음\
`arr`를 직접 수정하며 외부에 영향을 줌

```js
function add(arr, item) {
  arr.push(item); // 원본 변경
  return arr;
}
```

### 4. 랜덤, 시간 사용

동일한 입력이 없는데도 결과가 매번 다름

```js
function randomNum() {
  return Math.random(); // 매번 다른 결과
}

function now() {
  return Date.now();
}
```

### 5. 외부에 영향 주는 함수

결과를 반환하지 않고, 외부 세계(console)에 영향 줌

```js
function log(msg) {
  console.log(msg); // 콘솔 출력 → 부작용
}
```

## 순수 함수 판단 체크리스트

아래 조건 중 하나라도 위반하면 순수 함수라고 할 수 없습니다.

| 항목                      | 조건                 |
| ------------------------- | -------------------- |
| 입력만 사용               | 외부 값 의존         |
| 동일한 입력 → 동일한 출력 | 시간, 랜덤           |
| 외부 상태 변경 없음       | 전역 변수, DOM, 콘솔 |
| 입력값 수정 없음          | 배열, 객체 push/pop  |

## 순수 함수가 중요한 이유 (Redux 기준)

- 예측 가능성
- 상태 추적 / 되돌리기 가능
- 테스트 용이성
- 부작용 없음 → 안정성
